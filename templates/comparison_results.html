<!-- Partial template for comparison results -->
<div class="athlete-headers">
    <div class="athlete-header left">
        <div class="athlete-info">
            <div class="athlete-name-large">{{ athlete1.name }}</div>
            <div class="athlete-country">
                {{ athlete1.country }} {{ athlete1.country_alpha3 }}
                {% if athlete1.year_of_birth %}• Born {{ athlete1.year_of_birth }}{% endif %}
            </div>
        </div>
    </div>
    <div class="vs-divider">VS</div>
    <div class="athlete-header right">
        <div class="athlete-info">
            <div class="athlete-name-large">{{ athlete2.name }}</div>
            <div class="athlete-country">
                {{ athlete2.country }} {{ athlete2.country_alpha3 }}
                {% if athlete2.year_of_birth %}• Born {{ athlete2.year_of_birth }}{% endif %}
            </div>
        </div>
    </div>
</div>

<div class="comparison-section">
    <h3>Current Ratings</h3>
    <div class="comparison-grid">
        {% for discipline in [
            ('Overall', athlete1.ratings.overall, athlete2.ratings.overall),
            ('Swim', athlete1.ratings.swim, athlete2.ratings.swim),
            ('Bike', athlete1.ratings.bike, athlete2.ratings.bike),
            ('Run', athlete1.ratings.run, athlete2.ratings.run),
            ('Transition', athlete1.ratings.transition, athlete2.ratings.transition)
        ] %}
        <div class="comparison-row">
            <div class="comparison-value left {% if discipline[1] and discipline[2] and discipline[1] > discipline[2] %}winner{% endif %}">
                {{ discipline[1]|round|int if discipline[1] else 'N/A' }}
            </div>
            <div class="comparison-label">{{ discipline[0] }}</div>
            <div class="comparison-value right {% if discipline[1] and discipline[2] and discipline[2] > discipline[1] %}winner{% endif %}">
                {{ discipline[2]|round|int if discipline[2] else 'N/A' }}
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<div class="comparison-section">
    <h3>Career Statistics</h3>
    <div class="comparison-grid">
        {% for stat in [
            ('Total Races', athlete1.stats.total_races, athlete2.stats.total_races),
            ('Wins', athlete1.stats.wins, athlete2.stats.wins),
            ('Podiums', athlete1.stats.podiums, athlete2.stats.podiums)
        ] %}
        <div class="comparison-row">
            <div class="comparison-value left {% if stat[1] > stat[2] %}winner{% endif %}">
                {{ stat[1] }}
            </div>
            <div class="comparison-label">{{ stat[0] }}</div>
            <div class="comparison-value right {% if stat[2] > stat[1] %}winner{% endif %}">
                {{ stat[2] }}
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% if head_to_head %}
<div class="comparison-section">
    <h3>Head-to-Head Record</h3>
    <div class="h2h-summary">
        <div class="h2h-stat">
            <div class="h2h-stat-value">{{ athlete1.stats.h2h_wins }}</div>
            <div class="h2h-stat-label">{{ athlete1.name }} Wins</div>
        </div>
        <div class="h2h-stat">
            <div class="h2h-stat-value">{{ head_to_head|length }}</div>
            <div class="h2h-stat-label">Total Races</div>
        </div>
        <div class="h2h-stat">
            <div class="h2h-stat-value">{{ athlete2.stats.h2h_wins }}</div>
            <div class="h2h-stat-label">{{ athlete2.name }} Wins</div>
        </div>
    </div>
    <table class="h2h-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Race</th>
                <th>{{ athlete1.name }}</th>
                <th>{{ athlete2.name }}</th>
            </tr>
        </thead>
        <tbody>
            {% for race in head_to_head %}
            <tr>
                <td>{{ race.race_date.strftime('%-d %b %Y') }}</td>
                <td><a href="/race/{{ race.race_id }}" class="link">{{ race.race_name }}</a></td>
                <td class="{{ race.athlete1_time['css-class'] }}">
                    {{ race.athlete1_position }} {{ race.athlete1_time['formatted-str'] }}
                    {% if race.athlete1_behind %}
                        <span class="time-behind">{{ race.athlete1_behind }}</span>
                    {% endif %}
                </td>
                <td class="{{ race.athlete2_time['css-class'] }}">
                    {{ race.athlete2_position }} {{ race.athlete2_time['formatted-str'] }}
                    {% if race.athlete2_behind %}
                        <span class="time-behind">{{ race.athlete2_behind }}</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="comparison-section">
    <p style="text-align: center; color: var(--text-light);">No head-to-head races found</p>
</div>
{% endif %}